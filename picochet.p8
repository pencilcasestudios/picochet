pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
-- picochet
--
-- this is a breakout clone.
-- i am learning how to make
-- games in pico-8 by following
-- a youtube tutorial by
-- @lazydevs.

-- variables

-- colours
black=0
dark_blue=1
purple=2
gray=6
white=7
yellow=10

-- paddle
paddle_x=5
paddle_y=120
paddle_width=20
paddle_height=3
paddle_speed=6

-- ball
ball_x=50
ball_y=100
ball_deltax=1
ball_deltay=1
ball_radius=2

screen_top=2
screen_bottom=125
screen_left=2
screen_right=125

function _init()
	cls()
end

function _update()
	-- move the pad
	if btn(⬅️) then
		if paddle_x > 0 then
			paddle_x=paddle_x-paddle_speed
		else
			paddle_x=0
			sfx(1)
		end
	end

	if btn(➡️) then
		if paddle_x < screen_right-paddle_width+2 then
			paddle_x=paddle_x+paddle_speed
		else
			paddle_x=screen_right-paddle_width+2
			sfx(1)
		end
	end

	-- move the ball
	ball_x=ball_x+ball_deltax
	ball_y=ball_y+ball_deltay

	if ball_x > screen_right or
		ball_x < screen_left then
		ball_deltax=-ball_deltax
		sfx(0)
	end

	if ball_y > screen_bottom or
		ball_y < screen_top then
		ball_deltay=-ball_deltay
		sfx(0)
	end
end

function _draw()
	cls()
	rectfill(0,0,127,127,purple)
	circfill(
		ball_x,
		ball_y,
		ball_radius,
		yellow
	)
	rectfill(
		paddle_x,
		paddle_y,
		paddle_x+paddle_width,
		paddle_y+paddle_height,
		gray
	)

	-- debug paddle
	print(paddle_x, white)
	print(
		paddle_x+paddle_width,
		white
	)
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000705007050070501005010050100500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0001000029010200100e0100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
